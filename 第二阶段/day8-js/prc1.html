<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				position: relative;
			}
			#screen1{
				border: 1px solid black;
				background-color: white;
				width: 800px;
				height: 400px;
				margin: auto;
				
			}
			input{
				width:50px ;
				height: 20px;
				background-color: lightcoral;
				border: 0;
				
			}
			#ok{
				position: absolute;
				top:410px;
				left: 600px;
			}
			#bling{
				position: absolute;
				top: 410px;
				left: 700px;
			}
		</style>
	</head>
	<body>
		<div id="screen1">
			
		</div>
		<input type="button" id="ok" value="添加" />
		<input type="button" id="bling" value="闪烁" />
		<script src="js/mylib.js"></script>
		<script src="js/randomcolor.js"></script>
		<script type="text/javascript">
			var okBtn = document.getElementById("ok");
			var blingBtn = document.getElementById("bling");
			var screen1 = document.getElementById("screen1");
			bind(window, "load", function() {
				bind(okBtn,'click',function(){
					var div1 = document.createElement("div");
					div1.style.height = "80px";
					div1.style.width = "80px";
					div1.style.backgroundColor= randomcolor();
					div1.style.float = "left";
					screen1.appendChild(div1);
					
				});
				var isFlashing = false;
				var timerId = 0;
				bind(blingBtn,"click",function(){
					if(isFlashing){
						clearInterval(timerId);
					}else{
						timerId = setInterval(function(){
							var divs = document.querySelectorAll("#screen1>div");
							for(var i = 0;i<divs.length;i+=1){
								divs[i].style.backgroundColor=randomcolor();
							}
						},200);
					}
					blingBtn.innerHTML = isFlashing?"闪烁":"暂停";
					isFlashing = !isFlashing;
					
				});
			});
		</script>
	</body>
</html>
